<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="Login.css">
</head>
<body>
<div class="main">
    <form  name="myForm" id="loginForm">
        <div style="text-align: left;">
            <a href="C:\Users\vijay\OneDrive\Desktop\My Project\Client\index.html"><button type="button" class="btn-close btn-close-white" aria-label="Close"></button></a>
        </div>
            <label for="top"></label>
            <div class="imgcontainer">
              <img src="C:\Users\vijay\OneDrive\Documents\Pictures\Media19\9821492.png" alt="Avatar" class="avatar">
            </div>
          
        <label for="username">Email </label>
        <input type="text" id="username" name="first_name" placeholder="Email"/>
        <span id="usernameError" class="error"></span>
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Password"/>
        <span id="passwordError" class="error"></span>
        

        <div class="d-grid gap-2 d-md-block">
            <button class="btn btn-success" type="submit">Login</button>
            <!-- <a href="C:\Users\vijay\OneDrive\Desktop\My Project\Client\Register.html"><button class="btn btn-primary" type="button">Register</button></a> -->
        </div>

    </form>
</div>
<script>
    const form = document.getElementById('loginForm');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const usernameError = document.getElementById('usernameError');
    const passwordError = document.getElementById('passwordError');
  
    form.addEventListener('submit', function(event) {
      let isValid = true;
  
      if (usernameInput.value.trim() === '') {
        usernameError.textContent = 'Username is required';
        isValid = false;
      } else {
        usernameError.textContent = '';
      }
  
      if (passwordInput.value.trim() === '') {
        passwordError.textContent = 'Password is required';
        isValid = false;
      } else {
        passwordError.textContent = '';
      }
  
      if (!isValid) {
        event.preventDefault();
      }
    });


    <!--New Script---------------------------------->

    const formE1 = document.querySelector("#loginForm");
    formE1.addEventListener("submit", (event) => {
      event.preventDefault();
      const formData = new FormData(formE1);
      const data = Object.fromEntries(formData);
      console.log(data);

      fetch("http://localhost:3000/api/v1/user/signin",{
        method:"POST",
        headers:{
            "Content-Type":"application/json"
        },
        body:JSON.stringify(data)
      }).then(res=>res.json()).then(data=>{
        console.log(data);
      })
    });
  </script>   
  <!--New Script end---------------------------------->
    
</body>
</html>